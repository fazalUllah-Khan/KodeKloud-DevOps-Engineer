The system admins team of xFusionCorp Industries has set up some scripts on jump host that run on regular intervals and perform operations on all app servers in Stratos Datacenter. To make these scripts work properly we need to make sure the thor user on jump host has password-less SSH access to all app servers through their respective sudo users (i.e tony for app server 1). Based on the requirements, perform the following:


Set up a password-less authentication from user thor on jump host to all app servers through their respective sudo users.

# Solution:
thor@jump_host ~$ ssh thor@jump_host
The authenticity of host 'jump_host (172.16.238.3)' can't be established.
ECDSA key fingerprint is SHA256:u0zsGFlpmOp3uMclQ8DaVrwAFSuWx2QC5AudNCAXcOI.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added 'jump_host,172.16.238.3' (ECDSA) to the list of known hosts.
thor@jump_host's password: 
Last login: Fri Mar 29 01:33:26 2024
thor@jump_host ~$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/thor/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/thor/.ssh/id_rsa.
Your public key has been saved in /home/thor/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:VJOO58vn762iXVysCQ01SjsEDNdzB0jixlElBBT2e9c thor@jump_host.stratos.xfusioncorp.com
The key's randomart image is:
+---[RSA 3072]----+
|        .+%XBo=. |
|         *oB+=...|
|        .o+ *o . |
|       ...o  = ..|
|        So  o o E|
|          .  + = |
|         . .  =  |
|          o.o. . |
|          .+o++..|
+----[SHA256]-----+
thor@jump_host ~$ ssh-copy-id tony@stapp01
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/thor/.ssh/id_rsa.pub"
The authenticity of host 'stapp01 (172.16.238.10)' can't be established.
ECDSA key fingerprint is SHA256:kWGM6mACwZHyU4PeIhp4CgqGGcs9GqEnOds1pcwoT28.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
tony@stapp01's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'tony@stapp01'"
and check to make sure that only the key(s) you wanted were added.

thor@jump_host ~$ ssh-copy-id steve@stapp02
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/thor/.ssh/id_rsa.pub"
The authenticity of host 'stapp02 (172.16.238.11)' can't be established.
ECDSA key fingerprint is SHA256:CAUagAiupG4Z0P+uwurjMvmIlJJXLioOhHUIBHIl7cw.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
steve@stapp02's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'steve@stapp02'"
and check to make sure that only the key(s) you wanted were added.

thor@jump_host ~$ ssh-copy-id banner@stapp03
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/thor/.ssh/id_rsa.pub"
The authenticity of host 'stapp03 (172.16.238.12)' can't be established.
ECDSA key fingerprint is SHA256:nh+BE8xR50LTFhAbqG6doQkPeO+pQmvJLAzq2Gkrd2k.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
banner@stapp03's password: 

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'banner@stapp03'"
and check to make sure that only the key(s) you wanted were added.

thor@jump_host ~$ ssh banner@stapp03
[banner@stapp03 ~]$ whoami
banner
[banner@stapp03 ~]$ exit
logout
Connection to stapp03 closed.
thor@jump_host ~$ ssh steve@stapp02
[steve@stapp02 ~]$ whoami
steve
[steve@stapp02 ~]$ exit
logout
Connection to stapp02 closed.
thor@jump_host ~$ ssh tony@stapp01
[tony@stapp01 ~]$ whoami
tony
[tony@stapp01 ~]$
